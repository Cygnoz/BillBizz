import{r as i,Z as k,u as R,j as e,L as m,x as S,w,e as q,_ as B}from"./index-A_edQTkL.js";import{C as L}from"./Calender-CLJNzzsH.js";import{F as _}from"./PrinterIcon-KI_KgC8l.js";function u(s){return new Date(s).toLocaleDateString("en-GB").split("/").join("-")}function O(){const s=new Date;return`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-01`}function P(){const s=new Date;return new Date(s.getFullYear(),s.getMonth()+1,0).toISOString().split("T")[0]}const Y=({})=>{var N,y,v,C;const[s,f]=i.useState([]),{organization:h}=k(),[c,D]=i.useState(O()),[d,A]=i.useState(P()),p=i.useRef(null),j=i.useRef(null),F=()=>{var t;(t=p.current)==null||t.showPicker()},E=()=>{var t;(t=j.current)==null||t.showPicker()},{request:T}=R("get",5006),b=u(c),g=u(d),$=async()=>{try{const t=`${q.GET_BS_DATA}/${b}/${g}`,o=await T(t),{response:r,error:n}=o;!n&&r?f(r.data.data):console.error("Error fetching Balance Sheet data:",n)}catch(t){console.error("Error in fetching Balance Sheet data:",t),B.error("Failed to fetchBalance Sheet data.")}};return i.useEffect(()=>{$()},[c,d]),console.log(s.summary,"dert"),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex gap-5",children:[e.jsx(m,{to:"/reports",children:e.jsx("div",{className:"flex justify-center items-center h-11 w-11 bg-tertiary_main rounded-full",children:e.jsx(S,{})})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("h4",{className:"font-bold text-xl text-textColor ",children:"Balance sheet "})}),e.jsx("div",{className:"ml-auto gap-3 flex items-center",children:e.jsxs("div",{className:"flex text-dropdownText gap-4",children:[e.jsxs("div",{className:"relative border-2 border-slate-200 flex rounded-md px-2 py-1 text-sm items-center cursor-pointer",onClick:F,children:[e.jsx("div",{className:"pointer-events-none inset-y-0 flex items-center px-2 text-gray-700",children:e.jsx(L,{color:"currentColor",height:18,width:18})}),u(c),e.jsx("div",{className:"pointer-events-none inset-y-0 right-0 flex items-center px-2 text-gray-700",children:e.jsx(w,{color:"gray"})}),e.jsx("input",{type:"date",ref:p,className:"absolute inset-0 opacity-0 cursor-pointer",value:c,onChange:t=>D(t.target.value)})]}),e.jsxs("div",{className:"relative border-2 border-slate-200 flex rounded-md px-2 py-1 text-sm items-center cursor-pointer",onClick:E,children:[e.jsx("div",{className:"pointer-events-none inset-y-0 flex items-center px-2 text-gray-700",children:e.jsx(L,{color:"currentColor",height:18,width:18})}),u(d),e.jsx("div",{className:"pointer-events-none inset-y-0 right-0 flex items-center px-2 text-gray-700",children:e.jsx(w,{color:"gray"})}),e.jsx("input",{type:"date",ref:j,className:"absolute inset-1 opacity-0 cursor-pointer",value:d,onChange:t=>A(t.target.value)})]}),e.jsx("div",{className:"ml-auto flex items-center",children:e.jsxs("button",{className:"flex border px-2 py-1 border-gray-300 rounded-lg bg-secondary_active",children:[e.jsx(_,{color:"gray",height:18,width:20}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Print"})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-2",children:[e.jsx("div",{className:"flex justify-center items-center mb-2",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"font-bold text-textColor",children:[" ",h==null?void 0:h.organizationName]}),e.jsxs("p",{className:"text-sm text-textColor",children:[b," To ",g]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsx("div",{className:"overflow-hidden ",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"flex items-center text-[#585953] font-semibold justify-center rounded-md py-2 bg-[#F7ECD9] me-5 ",children:"Particulars"}),e.jsx("th",{className:"items-center text-[#585953] font-semibold justify-center rounded-md py-2 bg-[#F7ECD9]",children:"Amount"})]})}),e.jsxs("tbody",{className:"divide-y divide-[#EAECF0]",children:[(N=s==null?void 0:s.credit)==null?void 0:N.map((t,o)=>{let r="",n=0,l=[],a="";if(t.equity)r="equity",n=t.equity.overallNetCredit-t.equity.overallNetDebit,l=t,a=`/reports/balance-sheet/accounts/${r}`,console.log(t.equity);else if(t.currentLiabilities){const x="currentLiabilities";r="Current Liabilities",n=t.currentLiabilities.overallNetCredit-t.currentLiabilities.overallNetDebit,l=t,a=`/reports/balance-sheet/accounts/${x}`,console.log(t,"purchase")}else if(t.nonCurrentLiabilities){const x="nonCurrentLiabilities";r="Non-Current Liabilities",n=t.nonCurrentLiabilities.overallNetCredit-t.nonCurrentLiabilities.overallNetDebit,l=t,a=`/reports/balance-sheet/accounts/${x}`}else t.netLossCd&&(r="Net Loss (c/d)",n=t.netLossCd);return n===0&&(a=""),e.jsxs("tr",{className:o===(s==null?void 0:s.debit.length)-1?"font-semibold bg-gray-50":"",children:[e.jsx("td",{className:"px-6 py-3 text-sm text-[#4B5C79] font-medium",children:e.jsx(m,{to:a,state:{items:l},children:r})}),e.jsx("td",{className:"px-6 py-3 text-right text-sm text-[#4B5C79] font-medium",children:n})]},o)}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-3  text-sm text-[#4B5C79] font-bold",children:"Total"}),e.jsx("td",{className:"px-6 py-3 text-right  text-sm text-[#4B5C79] font-bold",children:(y=s==null?void 0:s.summary)==null?void 0:y.finalCredit})]})]})]})})}),e.jsxs("div",{children:[e.jsx("div",{className:""})," ",e.jsx("div",{className:"overflow-hidden ",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"flex items-center text-[#585953] font-semibold justify-center rounded-md py-2 bg-[#F7ECD9] mx-5",children:"Particulars"}),e.jsx("th",{className:"items-center text-[#585953] font-semibold justify-center rounded-md py-2 bg-[#F7ECD9]",children:"Amount"})]})}),e.jsxs("tbody",{className:"divide-y divide-[#EAECF0] ",children:[(v=s==null?void 0:s.debit)==null?void 0:v.map((t,o)=>{let r="",n=0,l=[],a="";if(t.currentAssets){const x="currentAssets";r="Current Assets",n=t.currentAssets.overallNetDebit-t.currentAssets.overallNetCredit,l=t,a=`/reports/balance-sheet/accounts/${x}`}else t.nonCurrentAssets?(r="nonCurrentAssets",n=t.nonCurrentAssets.overallNetDebit-t.nonCurrentAssets.overallNetCredit,l=t,a=`/reports/balance-sheet/accounts/${r}`):t.grossLoss&&(r="Gross Loss",n=t.grossLoss);return n===0&&(a=""),e.jsxs("tr",{className:o===(s==null?void 0:s.credit.length)-1?"font-semibold bg-gray-50":"",children:[e.jsx(m,{to:a,state:{items:l,fromDate:c,toDate:d},children:e.jsx("td",{className:"px-6 py-3 text-sm text-[#4B5C79] font-medium",children:r})}),e.jsx("td",{className:"px-6 py-3 text-right text-sm text-[#4B5C79] font-medium",children:n})]},o)}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-3  text-sm text-[#4B5C79] font-bold",children:"Total"}),e.jsx("td",{className:"px-6 py-3 text-right  text-sm text-[#4B5C79] font-bold",children:(C=s==null?void 0:s.summary)==null?void 0:C.finalCredit})]})]})]})})]})]})]})]})};export{Y as default};
