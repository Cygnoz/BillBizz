import{r as l,u as w,I as k,ah as N,a as f,j as e,e as m,B as h,P as B}from"./index-A_edQTkL.js";import{A as D,a as g}from"./ArrowUpIcon-BSlCnyZT.js";import{R as E}from"./RefreshIcon-3pGUrNkg.js";import{D as S}from"./DotIcon-DTVVVqGb.js";import{P as y}from"./PurchaseTable-CRBE_ojU.js";import"./TableSkelton-L9YeclyQ.js";import"./NoDataFoundTable-hmwFq4Ia.js";import"./NO_DATA-Bek3dUYY.js";import"./PrintButton-wNIz7Qro.js";import"./PrinterIcon-wSfdPfNy.js";import"./Pagination-CosxQtyN.js";const L=()=>{const[a,c]=l.useState([{id:"billNumber",label:"Bill#",visible:!0},{id:"billDate",label:"Bill Date",visible:!0},{id:"supplierDisplayName",label:"Supplier Name",visible:!0},{id:"grandTotal",label:"Amount",visible:!0},{id:"dueDate",label:"Due Date",visible:!0},{id:"paidStatus",label:"Status",visible:!0}]),[d,r]=l.useState([]),{request:p}=w("get",5005),{loading:t,setLoading:n}=l.useContext(k),{purchaseResponse:o}=l.useContext(N),u=f(),j=async()=>{try{n({...t,skeleton:!0,noDataFound:!1});const s=`${m.GET_ALL_BILLS}`,{response:i,error:x}=await p(s);!x&&i?(r(i.data.allBills),n({...t,skeleton:!1})):(console.log(x),n({...t,skeleton:!1,noDataFound:!0}))}catch(s){console.error(s),n({...t,skeleton:!1,noDataFound:!0})}};l.useEffect(()=>{j()},[o]);const C=s=>{u(`/purchase/bills/view/${s}`)},v=s=>{u(`/purchase/bills/edit/${s}`)},b=(s,i)=>s==="paidStatus"?e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("div",{className:`${i.paidStatus==="Pending"?"bg-zinc-200":i.paidStatus==="Completed"?"bg-[#94dca9]":"bg-[#dcd894]"} text-[13px] rounded-lg text-center items-center text-textColor h-[18px] px-2 max-w-fit gap-2 py-2 flex justify-center`,children:[e.jsx(S,{color:"#495160"}),i.paidStatus]})}):i[s];return e.jsx(y,{page:"Bills",columns:a,data:d,onRowClick:C,renderColumnContent:b,searchPlaceholder:"Search Bills",loading:t.skeleton,searchableFields:["billNumber","supplierDisplayName"],setColumns:c,onEditClick:v,deleteUrl:m.DELETE_BILL})},I=()=>e.jsx("div",{children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1 3.66667V2.33333C1 1.97971 1.14048 1.64057 1.39052 1.39052C1.64057 1.14048 1.97971 1 2.33333 1H3.66667M10.3333 1H11.6667C12.0203 1 12.3594 1.14048 12.6095 1.39052C12.8595 1.64057 13 1.97971 13 2.33333V3.66667M13 10.3333V11.6667C13 12.0203 12.8595 12.3594 12.6095 12.6095C12.3594 12.8595 12.0203 13 11.6667 13H10.3333M3.66667 13H2.33333C1.97971 13 1.64057 12.8595 1.39052 12.6095C1.14048 12.3594 1 12.0203 1 11.6667V10.3333M3.66667 7H10.3333",stroke:"#565148","stroke-width":"2",strokeLinecap:"round","stroke-linejoin":"round"})})});function _({}){const a=f(),[c,d]=l.useState(!1),r=l.useRef(null),p=()=>{d(!c)},t=o=>{r.current&&!r.current.contains(o.target)&&d(!1)};l.useEffect(()=>(document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}),[]);const n=[{icon:e.jsx(D,{}),text:"Import Bill",onClick:()=>{console.log("Import Sales Order clicked")}},{icon:e.jsx(g,{}),text:"Export Bill",onClick:()=>{console.log("Export Sales Order clicked")}},{icon:e.jsx(g,{}),text:"Export Current View",onClick:()=>{console.log("Export Current View clicked")}},{icon:e.jsx(E,{color:"#4B5C79"}),text:"Refresh List",onClick:()=>{console.log("Refresh List clicked")}}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-6 flex   items-center relative",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-2xl text-textColor",children:"Bills"}),e.jsx("p",{className:"text-sm text-gray mt-1",children:"Comprehensive invoicing that includes purchase details such as order date, supplier name, total amounts due for clear and accurate financial tracking"})]}),e.jsxs("div",{className:"ml-auto gap-3 flex items-center",children:[e.jsxs(h,{onClick:()=>a("/purchase/bills/invoice"),variant:"secondary",size:"sm",children:[e.jsx(I,{}),e.jsx("p",{className:"text-sm font-medium",children:"Scan Invoice"})]}),e.jsxs(h,{onClick:()=>a("/purchase/bills/new"),variant:"primary",size:"sm",children:[e.jsx(B,{color:"white"}),e.jsx("p",{className:"text-sm font-medium",children:"New Bill"})]}),e.jsx("div",{onClick:p,className:"cursor-pointer"}),c&&e.jsx("div",{ref:r,className:"absolute top-16 right-4 mt-2 w-48 bg-white shadow-xl z-10",children:e.jsx("ul",{className:"py-1 text-dropdownText",children:n.map((o,u)=>e.jsxs("li",{onClick:o.onClick,className:"px-4 py-2 flex items-center gap-2 hover:bg-orange-100 rounded-md text-sm cursor-pointer",children:[o.icon,o.text]},u))})})]})]}),e.jsx("div",{className:"px-6 mt-3",children:e.jsxs("div",{className:"bg-white p-5",children:[e.jsx("div",{className:"w-[100%] p-3 bg-gray-100"}),e.jsx("div",{className:"p-3",children:e.jsx(L,{})})]})})]})}export{_ as default};
