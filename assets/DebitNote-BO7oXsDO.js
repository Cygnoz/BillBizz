import{r as o,j as e,f as w,a as v,u as C,I as k,ah as E,e as m,ab as y,an as B,L as S,B as I,P as O}from"./index-A_edQTkL.js";import{A as R,a as h}from"./ArrowUpIcon-BSlCnyZT.js";import{R as T}from"./RefreshIcon-3pGUrNkg.js";import{D as L}from"./DotIcon-DTVVVqGb.js";import{P as A}from"./PurchaseTable-CRBE_ojU.js";import{B as F}from"./BookXIcon-CB82G_2z.js";import{N as u}from"./NewspaperIcon-4Cp-uTWx.js";import"./TableSkelton-L9YeclyQ.js";import"./NoDataFoundTable-hmwFq4Ia.js";import"./NO_DATA-Bek3dUYY.js";import"./PrintButton-wNIz7Qro.js";import"./PrinterIcon-wSfdPfNy.js";import"./Pagination-CosxQtyN.js";function P({}){const[n,a]=o.useState(!1),i=o.useRef(null),s=()=>{a(!n)},d=r=>{i.current&&!i.current.contains(r.target)&&a(!1)};o.useEffect(()=>(document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}),[]);const x=[{icon:e.jsx(R,{}),text:"Import Sales Order",onClick:()=>{console.log("Import Sales Order clicked")}},{icon:e.jsx(h,{}),text:"Export Sales Order",onClick:()=>{console.log("Export Sales Order clicked")}},{icon:e.jsx(h,{}),text:"Export Current View",onClick:()=>{console.log("Export Current View clicked")}},{icon:e.jsx(T,{color:"#4B5C79"}),text:"Refresh List",onClick:()=>{console.log("Refresh List clicked")}}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:s,className:"cursor-pointer",children:e.jsx(w,{})}),n&&e.jsx("div",{ref:i,className:"absolute top-12 right-6 mt-2 w-52 p-1 bg-white shadow-2xl z-10",children:e.jsx("ul",{className:"py-1 text-dropdownText",children:x.map((r,l)=>e.jsxs("div",{children:[e.jsxs("li",{onClick:r.onClick,className:"px-4 py-2 flex items-center gap-2 hover:bg-orange-100 rounded-md text-sm cursor-pointer",children:[r.icon,r.text]}),r.text!=="Refresh List"&&e.jsx("div",{className:"pl-2 pr-2",children:e.jsx("hr",{className:"border-dropdownBorder"})})]},l))})})]})}const _=()=>{const n=v(),a=[{id:"debitNote",label:"Debit Note",visible:!0},{id:"supplierDisplayName",label:"Supplier Name",visible:!0},{id:"supplierDebitDate",label:"Date",visible:!0},{id:"orderNumber",label:"orderNumber",visible:!0},{id:"grandTotal",label:"Balance",visible:!1}],[i,s]=o.useState(a),[d,x]=o.useState([]),{request:r}=C("get",5005),{loading:l,setLoading:p}=o.useContext(k),{purchaseResponse:f}=o.useContext(E),j=async()=>{try{p({...l,skeleton:!0,noDataFound:!1});const t=`${m.GET_ALL_DEBIT_NOTE}`,{response:c,error:D}=await r(t);!D&&c?(x(c.data),p({...l,skeleton:!1,noDataFound:!1})):p({...l,skeleton:!1,noDataFound:!0})}catch(t){console.error(t),p({...l,skeleton:!1,noDataFound:!0})}};o.useEffect(()=>{j()},[f]);const b=t=>{n(`/purchase/debit-note/view/${t}`)},N=t=>{n(`/purchase/debit-note/edit/${t}`)},g=(t,c)=>t==="customerDetails"?e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("div",{className:"flex justify-center items-center gap-1.5 bg-BgSubhead rounded-2xl px-2 pt-0.5 pb-0.5",children:[e.jsx(L,{color:"#495160"}),e.jsx("p",{className:"text-outlineButton text-xs font-medium",children:c.customerDetails})]})}):c[t]||"-";return e.jsx("div",{children:e.jsx(A,{page:"Bills",columns:i,data:d,onRowClick:b,renderColumnContent:g,searchPlaceholder:"Search by Supplier Name, Debit note",loading:l.skeleton,searchableFields:["supplierDisplayName","debitNote"],setColumns:s,onEditClick:N,deleteUrl:m.DELETE_DEBIT_NOTE})})};function $({}){const[n,a]=o.useState("All"),i=[{icon:e.jsx(y,{color:"#585953"}),title:"All"},{icon:e.jsx(B,{color:"#585953"}),title:"Draft"},{icon:e.jsx(F,{color:"#585953"}),title:"Pending Approval"},{icon:e.jsx(u,{color:"#585953"}),title:"Open"},{icon:e.jsx(u,{color:"#585953"}),title:"Closed"},{icon:e.jsx(u,{color:"#585953"}),title:"Void"}];return e.jsx("div",{className:"flex gap-3 justify-between",children:i.map(s=>e.jsxs("button",{onClick:()=>a(s.title),className:`flex items-center gap-2 p-2 w-[100%] justify-center  rounded ${n===s.title?"bg-WhiteIce":"bg-white"}`,style:{border:"1px solid #DADBDD"},children:[s.icon,e.jsx("span",{style:{color:"#4B5C79",fontSize:"12px",fontWeight:"600"},children:s.title})]},s.title))})}function Z({}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" px-6 flex items-center relative",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-2xl text-textColor",children:"Create Supplier Debit Note"}),e.jsx("p",{className:"text-sm text-gray mt-1",children:"Create a debit note for supplier returns, accounting adjustments etc..."})]}),e.jsxs("div",{className:"ml-auto gap-3 flex items-center",children:[e.jsx(S,{to:"/purchase/debit-note/new",children:e.jsxs(I,{variant:"primary",size:"sm",children:[e.jsx(O,{color:"white"})," ",e.jsx("p",{className:"text-sm font-medium",children:"New Debit Note"})]})}),e.jsx(P,{})]})]}),e.jsx("div",{className:"px-6 mt-3",children:e.jsxs("div",{className:"bg-white p-5",children:[e.jsx("div",{className:"w-[100%] p-3 bg-gray-100",children:e.jsx($,{})}),e.jsx("div",{className:"p-5",children:e.jsx(_,{})})]})})]})}export{Z as default};
