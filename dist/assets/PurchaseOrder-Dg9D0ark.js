import{r as t,u as b,I as C,ah as w,a as N,j as e,e as m,L as O,B as k,P as E}from"./index-A_edQTkL.js";import{A as R,a as h}from"./ArrowUpIcon-BSlCnyZT.js";import{R as D}from"./RefreshIcon-3pGUrNkg.js";import{D as P}from"./DotIcon-DTVVVqGb.js";import{P as S}from"./PurchaseTable-CRBE_ojU.js";import"./TableSkelton-L9YeclyQ.js";import"./NoDataFoundTable-hmwFq4Ia.js";import"./NO_DATA-Bek3dUYY.js";import"./PrintButton-wNIz7Qro.js";import"./PrinterIcon-wSfdPfNy.js";import"./Pagination-CosxQtyN.js";const y=()=>{const[c,i]=t.useState([{id:"purchaseOrder",label:"Purchase Order#",visible:!0},{id:"purchaseOrderDate",label:"Order Date",visible:!0},{id:"reference",label:"Reference",visible:!0},{id:"supplierDisplayName",label:"Supplier Name",visible:!0},{id:"grandTotal",label:"Amount",visible:!0},{id:"Status",label:"Status",visible:!0},{id:"Recieved",label:"Received",visible:!1},{id:"Billed",label:"Billed",visible:!1},{id:"ExpectedDate",label:"Expected Date",visible:!1}]),[l,u]=t.useState([]),{request:d}=b("get",5005),{loading:a,setLoading:s}=t.useContext(C),{purchaseResponse:p}=t.useContext(w),x=N(),f=async()=>{try{s({...a,skeleton:!0,noDataFound:!1});const r=`${m.GET_ALL_PURCHASE_ORDER}`,{response:o,error:n}=await d(r);!n&&o?(u(o.data.allPurchaseOrder),s({...a,skeleton:!1})):(console.log(n),s({...a,skeleton:!1,noDataFound:!0}))}catch(r){console.error(r),s({...a,skeleton:!1,noDataFound:!0})}};t.useEffect(()=>{f()},[p]);const j=r=>{x(`/purchase/purchase-order/view/${r}`)},g=r=>{x(`/purchase/purchase-order/edit/${r}`)},v=(r,o)=>{if(r==="Status")return e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("div",{className:"flex justify-center items-center gap-1.5 bg-BgSubhead rounded-2xl px-2 pt-0.5 pb-0.5",children:[e.jsx(P,{color:"#495160"}),e.jsx("p",{className:"text-outlineButton text-xs font-medium",children:o.status})]})});const n=o[r];return n||e.jsx("span",{className:"text-gray-500 italic",children:"-"})};return e.jsx(S,{page:"PurchaseOrder",columns:c,data:l,onRowClick:j,renderColumnContent:v,searchPlaceholder:"Search Purchase Order",loading:a.skeleton,searchableFields:["purchaseOrder","supplierDisplayName"],setColumns:i,onEditClick:g,deleteUrl:m.DELETE_PURCHASE_ORDER})},H=({})=>{const[c,i]=t.useState(!1),l=t.useRef(null),u=()=>{i(!c)},d=s=>{l.current&&!l.current.contains(s.target)&&i(!1)};t.useEffect(()=>(document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}),[]);const a=[{icon:e.jsx(R,{}),text:"Import Sales Order",onClick:()=>{console.log("Import Sales Order clicked")}},{icon:e.jsx(h,{}),text:"Export Sales Order",onClick:()=>{console.log("Export Sales Order clicked")}},{icon:e.jsx(h,{}),text:"Export Current View",onClick:()=>{console.log("Export Current View clicked")}},{icon:e.jsx(D,{color:"#4B5C79"}),text:"Refresh List",onClick:()=>{console.log("Refresh List clicked")}}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mx-5 my-4 flex items-center relative",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-2xl text-textColor",children:"Create Purchase Order"}),e.jsx("p",{className:"text-sm text-gray mt-1",children:"A formal document outlining the details of a purchase"})]}),e.jsxs("div",{className:"ml-auto gap-3 flex items-center",children:[e.jsx(O,{to:"/purchase/purchase-order/new",children:e.jsxs(k,{variant:"primary",size:"sm",children:[e.jsx(E,{color:"white"}),e.jsx("p",{className:"text-sm",children:"New Purchase Order"})]})}),e.jsx("div",{onClick:u,className:"cursor-pointer"}),c&&e.jsx("div",{ref:l,className:"absolute top-11 right-1.5 mt-2 w-52 p-1 bg-white shadow-2xl z-10",children:e.jsx("ul",{className:"py-1 text-dropdownText",children:a.map((s,p)=>e.jsxs("div",{children:[e.jsxs("li",{onClick:s.onClick,className:"px-4 py-2 flex items-center gap-2 hover:bg-orange-100 rounded-md text-sm cursor-pointer",children:[s.icon,s.text]}),s.text!=="Refresh List"&&e.jsx("div",{className:"pl-2 pr-2",children:e.jsx("hr",{className:"border-dropdownBorder"})})]},p))})})]})]}),e.jsx("div",{className:"px-7 mt-4",children:e.jsxs("div",{className:"bg-white p-5 rounded-xl ",children:[e.jsx("div",{className:"w-[100%] p-3 bg-gray-100"}),e.jsx("div",{className:"pl-5 pr-5 mt-2",children:e.jsx(y,{})})]})})]})};export{H as default};
