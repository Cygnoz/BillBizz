import{r as s,u as C,ax as g,I as j,ah as I,a as N,j as e,e as l,L as D,x as w}from"./index-A_edQTkL.js";import{O as E}from"./OCRNewInvoice-Dgrnbh-s.js";import{D as R}from"./DotIcon-DTVVVqGb.js";import{P as y}from"./PurchaseTable-CRBE_ojU.js";import"./6-dMV7aCto.js";import"./TableSkelton-L9YeclyQ.js";import"./NoDataFoundTable-hmwFq4Ia.js";import"./NO_DATA-Bek3dUYY.js";import"./PrintButton-wNIz7Qro.js";import"./PrinterIcon-wSfdPfNy.js";import"./Pagination-CosxQtyN.js";const k=()=>{const[r,c]=s.useState([{id:"supplierDisplayName",label:"Supplier",visible:!0},{id:"billNumber",label:"Invoice Number",visible:!0},{id:"uploadedDate",label:"Uploaded Date",visible:!0},{id:"status",label:"Review Status",visible:!0},{id:"review_date",label:"Review Date",visible:!0}]),{request:u}=C("get",5e3),[d,x]=s.useState([]),{ocrInvoice:m}=s.useContext(g),{loading:a,setLoading:o}=s.useContext(j),{purchaseResponse:p}=s.useContext(I),v=N(),h=async()=>{try{o({...a,skeleton:!0,noDataFound:!1});const t=`${l.GET_ALL_OCR_INVOICE}`,{response:n,error:i}=await u(t);!i&&n?(x(n.data),o({...a,skeleton:!1})):o({...a,skeleton:!1,noDataFound:!0})}catch(t){console.error("Error in fetching invoice data",t),o({...a,skeleton:!1,noDataFound:!0})}},b=t=>{v(`/purchase/bills/invoice/view/${t}`)},f=(t,n)=>{const i=n[t];return t==="status"?e.jsxs("div",{className:`${i==="Need review"?"bg-[#F7E7CE]":"bg-[#DADCCD]"} text-[13px] rounded-lg text-center items-center text-textColor h-[18px] px-2 max-w-fit gap-2 py-2 flex justify-center`,children:[e.jsx(R,{color:"#495160"}),i]}):i||e.jsx("span",{className:"text-gray-500 italic",children:"-"})};return s.useEffect(()=>{o(""),h()},[m,p]),e.jsx(y,{page:"OCR",columns:r,data:d,onRowClick:b,renderColumnContent:f,searchPlaceholder:"Search Invoice",loading:a.skeleton,searchableFields:["supplier_name","status"],setColumns:c,deleteUrl:l.DELETE_OCR_INVOICE})},q=()=>e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"mx-5 my-4 flex items-center relative gap-x-4",children:[e.jsx(D,{to:"/purchase/bills",children:e.jsx("div",{className:"flex justify-center items-center h-11 w-11 bg-tertiary_main rounded-full",children:e.jsx(w,{})})}),e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-2xl text-textColor",children:"All Invoice"})}),e.jsx("div",{className:"ml-auto gap-3 flex items-center",children:e.jsx(E,{})})]}),e.jsx("div",{className:"mx-5 py-4 px-6 bg-white",children:e.jsx(k,{})})]});export{q as default};
