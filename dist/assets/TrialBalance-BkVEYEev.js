import{u as k,r as n,Z as B,j as e,L as h,x as E,w as p,e as F}from"./index-A_edQTkL.js";import{C as u}from"./Calender-CLJNzzsH.js";import{P as L}from"./PrinterIcon-wSfdPfNy.js";function o(s){return new Date(s).toLocaleDateString("en-GB").split("/").join("-")}function P(){const s=new Date;return`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-01`}function R(){const s=new Date;return new Date(s.getFullYear(),s.getMonth()+1,0).toISOString().split("T")[0]}function M(){var x;const{request:s}=k("get",5006),[r,f]=n.useState(P()),[a,j]=n.useState(R()),[g,b]=n.useState([]),l=n.useRef(null),i=n.useRef(null),{organization:c}=B(),N=()=>{var t;(t=l.current)==null||t.showPicker()},y=()=>{var t;(t=i.current)==null||t.showPicker()},w=o(r),v=o(a);n.useEffect(()=>{localStorage.setItem("fromDate",w),localStorage.setItem("toDate",v)},[r,a]);const D=async()=>{try{const t=o(r),C=o(a),S=`${F.GET_TRIAL_BALANCE}/${t}/${C}`,T=await s(S),{response:d,error:m}=T;!m&&d?b(d.data):console.log(m)}catch(t){console.error("Error fetching items:",t)}};return n.useEffect(()=>{D()},[r,a]),e.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 gap-2",children:[e.jsx(h,{to:"/reports",children:e.jsx("div",{className:"flex justify-center items-center h-11 w-11 bg-tertiary_main rounded-full",children:e.jsx(E,{})})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("h4",{className:"font-bold text-xl text-textColor",children:"Trial Balance"})}),e.jsx("div",{className:"ml-auto gap-3 flex items-center",children:e.jsxs("div",{className:"flex text-dropdownText gap-4",children:[e.jsxs("div",{className:"relative border-2 border-slate-200 flex rounded-md px-2 py-1 text-sm items-center cursor-pointer bg-white",onClick:N,children:[e.jsx("div",{className:"pointer-events-none flex items-center px-2 text-gray-700",children:e.jsx(u,{color:"currentColor",height:18,width:18})}),o(r),e.jsx("div",{className:"pointer-events-none flex items-center px-2 text-gray-700",children:e.jsx(p,{color:"gray"})}),e.jsx("input",{type:"date",ref:l,className:"absolute inset-0 opacity-0 cursor-pointer",value:r,onChange:t=>f(t.target.value)})]}),e.jsxs("div",{className:"relative border-2 border-slate-200 flex rounded-md px-2 py-1 text-sm items-center cursor-pointer bg-white",onClick:y,children:[e.jsx("div",{className:"pointer-events-none flex items-center px-2 text-gray-700",children:e.jsx(u,{color:"currentColor",height:18,width:18})}),o(a),e.jsx("div",{className:"pointer-events-none flex items-center px-2 text-gray-700",children:e.jsx(p,{color:"gray"})}),e.jsx("input",{type:"date",ref:i,className:"absolute inset-0 opacity-0 cursor-pointer",value:a,onChange:t=>j(t.target.value)})]}),e.jsx("div",{className:"ml-auto flex items-center",children:e.jsxs("button",{className:"flex border px-2 py-1 border-gray-300 rounded-lg bg-secondary_active",children:[e.jsx(L,{color:"gray",height:18,width:20}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Print"})]})})]})})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl",children:[e.jsx("div",{className:"flex items-center justify-center gap-3 text-center py-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-textColor font-bold whitespace-nowrap",children:c==null?void 0:c.organizationName}),e.jsxs("p",{className:"text-sm text-textColor whitespace-nowrap",children:[r," To ",a]})]})}),e.jsxs("table",{className:"w-full text-[#495060]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-lightPink text-left border-b font-bold text-sm border-[#ebecf0]",children:[e.jsx("th",{className:"p-2",children:"Particulars"}),e.jsx("th",{className:"p-2 text-right min-w-[30px] max-w-[30px] px-1 truncate",children:"Debit"}),e.jsx("th",{className:"p-2 text-right min-w-[30px] max-w-[30px] px-1 truncate",children:"Credit"})]})}),e.jsxs("tbody",{className:"text-xs",children:[(x=g.data)==null?void 0:x.map(t=>e.jsxs("tr",{className:"border-b border-[#ebecf0]",children:[e.jsx("td",{className:"py-3",children:e.jsx(h,{to:`/reports/trialBalance/${t.accountSubHead}`,state:{item:t,fromDate:r,toDate:a},children:t.accountSubHead})}),e.jsx("td",{className:"py-3 text-right min-w-[30px] max-w-[30px] px-1 truncate",children:t.totalDebit}),e.jsx("td",{className:"py-3 text-right min-w-[30px] max-w-[30px] px-1 truncate",children:t.totalCredit})]},t.accountSubHead)),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 font-bold",children:"Total"}),e.jsx("td",{className:"py-3 text-right font-bold",children:"0"}),e.jsx("td",{className:"py-3 text-right font-bold",children:"0"})]})]})]})]})]})}export{M as default};
