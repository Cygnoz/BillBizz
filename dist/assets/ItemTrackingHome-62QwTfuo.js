import{r as s,u as I,I as E,j as e,g as S,e as B}from"./index-A_edQTkL.js";import{i as u}from"./inventory-DcYHUaR5.js";import{T as L}from"./TableSkelton-L9YeclyQ.js";import{N as C}from"./NoDataFoundTable-hmwFq4Ia.js";import"./NO_DATA-Bek3dUYY.js";const F=({})=>{const[d,g]=s.useState(null),x=s.useRef(null),[b,f]=s.useState([]),[h,j]=s.useState(""),[c,N]=s.useState(""),[i,v]=s.useState(""),{request:w}=I("get",5003),{loading:a,setLoading:l}=s.useContext(E),y=t=>{g(d===t?null:t)},m=t=>{x.current&&!x.current.contains(t.target)&&y(null)};s.useEffect(()=>(d!==null?document.addEventListener("mousedown",m):document.removeEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[d]);const T=async()=>{try{l({...a,skeleton:!0});const t=`${B.GET_ALL_ITEM_TRANKING}`,{response:r,error:o}=await w(t);if(o||!r){l({...a,skeleton:!1,noDataFound:!0}),console.log(o,"Error in fetching all item tracking");return}f(r.data),l({...a,skeleton:!1}),console.log(r.data)}catch(t){console.error("Error in getItemTracking",t),l({...a,skeleton:!1,noDataFound:!0})}},n=b.filter(t=>{var p;const r=h.toLowerCase(),o=t.date.split(" ")[0],D=(!c||c<=o)&&(!i||o<=i);return((p=t.itemName)==null?void 0:p.toLowerCase().includes(r))&&D}),k=t=>t.split(" ")[0];return s.useEffect(()=>{T()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white p-4 mt-7 rounded-lg relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5 gap-4",children:[e.jsx("div",{className:"w-full",children:e.jsx(S,{placeholder:"Search by item name",searchValue:h,onSearchChange:j})}),e.jsxs("div",{className:"flex space-x-4 mb-5 mt-1",children:[e.jsx("input",{type:"text",value:c,onChange:t=>N(t.target.value),placeholder:"From Date",className:"hidden pl-3 text-sm w-[100%] mt-4 placeholder-[#495160] rounded-md text-start bg-white  border border-inputBorder  h-[39px]  leading-tight focus:outline-none focus:bg-white focus:border-darkRed"}),e.jsx("input",{type:"text",value:i,onChange:t=>v(t.target.value),placeholder:"To Date",className:"pl-3 hidden text-sm w-[100%] mt-4 placeholder-[#495160] rounded-md text-start bg-white  border border-inputBorder  h-[39px]  leading-tight focus:outline-none focus:bg-white focus:border-darkRed"})]})]}),e.jsx("div",{className:"rounded-lg border-2 border-tableBorder",children:e.jsxs("table",{className:"min-w-full bg-white relative pb-4",children:[e.jsx("thead",{className:"text-[12px] text-center text-dropdownText",children:e.jsx("tr",{className:"bg-lightPink",children:u.map((t,r)=>e.jsx("th",{className:"py-2 px-4 font-medium border-b border-tableBorder relative",children:t},r))})}),e.jsx("tbody",{className:"text-dropdownText text-center text-[13px] relative",children:a.skeleton?[...Array(n.lenght>0?n.lenght:5)].map((t,r)=>e.jsx(L,{columns:u},r)):n&&n.length>0?n.map((t,r)=>e.jsxs("tr",{className:"relative",children:[e.jsx("td",{className:"py-2.5 px-4 border-y border-tableBorder",children:k(t.date)}),e.jsx("td",{className:"py-2.5 px-4 border-y border-tableBorder",children:t.itemName}),e.jsx("td",{className:"py-2.5 px-4 border-y border-tableBorder",children:t.action}),e.jsx("td",{className:"py-2.5 px-4 border-y border-tableBorder",children:t.creditQuantity})]},r)):e.jsx(C,{columns:u})})]})})]})})},G=({})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mx-5 my-4  h-[100vh]  gap-3 text-[#303F58]",children:[e.jsxs("div",{className:"flex",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Item Tracking"}),e.jsx("p",{className:"text-sm text-gray mt-1",children:"Track items across the entire supply chain with real-time updates for better inventory control and visibility."})]}),e.jsx("div",{className:"ml-auto flex items-center",children:e.jsx("div",{className:"ms-5"})})]}),e.jsx(F,{})]})," "]});export{G as default};
