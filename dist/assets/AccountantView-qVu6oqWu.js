import{X as A,c as C,u as x,r as d,j as r,L as T,x as w,e as b}from"./index-A_edQTkL.js";function v(){const{id:n}=A(),i=C(),l=new URLSearchParams(i.search),u=l.get("fromCash")==="true",h=l.get("fromBank")==="true",{request:p}=x("get",5001),{request:m}=x("get",5004),[s,j]=d.useState([]),[o,N]=d.useState([]),f=async()=>{try{const e=`${b.GET_ONE_TRIAL_BALANCE}/${n}`,{response:t,error:a}=await p(e);!a&&t&&j(t.data)}catch(e){console.error("Error fetching trial balance:",e)}},y=async()=>{try{const e=`${b.GET_ONE_ORGANIZATION}`,{response:t,error:a}=await m(e);!a&&(t!=null&&t.data)&&N(t.data)}catch(e){console.error("Error fetching organization:",e)}};d.useEffect(()=>{n&&(f(),y())},[n]);const g=()=>{const e=s.reduce((a,c)=>a+(Number(c.creditAmount)||0),0);return s.reduce((a,c)=>a+(Number(c.debitAmount)||0),0)-e},B=()=>{const e=g(),t=Math.abs(e).toFixed(2);return e<0?`${t} (Cr)`:`${t} (Dr)`};return r.jsxs("div",{className:"px-6",children:[r.jsxs("div",{className:"flex items-center gap-5 mb-2",children:[r.jsx(T,{to:u?"/accountant/cash":h?"/accountant/bank":"/accountant/chart-OF-accountant",children:r.jsx("div",{style:{borderRadius:"50%"},className:"w-[40px] h-[40px] flex items-center justify-center bg-white",children:r.jsx(w,{})})}),r.jsx("p",{className:"text-textColor text-xl font-bold",children:s.length>0&&s[0].accountName})]}),r.jsxs("div",{className:"p-6 rounded-lg bg-white",children:[r.jsx("div",{className:"flex justify-between mb-4",children:r.jsx("p",{className:"font-bold text-textColor text-base",children:"Recent Transaction"})}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full bg-white border border-tableBorder rounded-lg",children:[r.jsx("thead",{className:"text-[12px] text-center text-dropdownText",children:r.jsxs("tr",{className:"bg-[#F9F7F0]",children:[r.jsx("th",{className:"py-3 px-4 font-medium border-b border-tableBorder text-sm",children:"Date"}),r.jsx("th",{className:"py-3 px-4 font-medium border-b border-tableBorder text-sm",children:"Type"}),r.jsxs("th",{className:"py-3 px-4 font-medium border-b border-tableBorder text-sm",children:["Debit ",o.baseCurrency&&`(${o.baseCurrency})`]}),r.jsxs("th",{className:"py-3 px-4 font-medium border-b border-tableBorder text-sm",children:["Credit ",o.baseCurrency&&`(${o.baseCurrency})`]}),r.jsx("th",{className:"py-3 px-4 font-medium border-b border-tableBorder text-sm",children:"Amount"}),r.jsx("th",{className:"py-3 px-4 font-medium border-b border-tableBorder text-sm",children:"Note"})]})}),r.jsx("tbody",{className:"text-dropdownText text-center text-[13px]",children:s.length>0?s.map(e=>r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-4 border-b border-tableBorder",children:e!=null&&e.createdDate?`${e.createdDate}
                        `:"-"}),r.jsx("td",{className:"py-3 px-4 border-b border-tableBorder",children:(e==null?void 0:e.action)||"-"}),r.jsx("td",{className:"py-3 px-4 border-b border-tableBorder",children:e!=null&&e.debitAmount?e.debitAmount:"0.00"}),r.jsx("td",{className:"py-3 px-4 border-b border-tableBorder",children:e!=null&&e.creditAmount?e.creditAmount:"0.00"}),r.jsx("td",{className:"py-3 px-4 border-b border-tableBorder",children:e!=null&&e.cumulativeSum?e.cumulativeSum:"0.00"}),r.jsx("td",{className:"py-3 px-4 border-b border-tableBorder",children:e!=null&&e.remark?e.remark:"-"})]},e._id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-3 px-4 border-b border-tableBorder text-center text-red-600",children:"Not found !"})})})]}),r.jsx("div",{className:"mt-4 text-end",children:r.jsx("p",{className:"text-textColor font-bold me-36",children:r.jsxs("div",{children:["Total: ",r.jsx("span",{children:B()})]})})})]})]})]})}export{v as default};
